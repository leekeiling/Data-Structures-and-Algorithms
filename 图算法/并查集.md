# 并查集

#### 【意义】

并查集是一种树型的结构，用于处理一些不相交集合的合并和查询问题。常常在使用中用于森林来表示。

并查集，在一些有N个元素的集合应用问题中，我们通常是在开始时让每个元素构成一个单元素的集合，然后按一定顺序将属于同一组的元素所在的集合合并，其间要反复查找一个元素在哪个集合中。这一类问题近几年来反复出现在信息学的国际国内赛题中，其特点是看似并不复杂，但数据量极大，若用正常的数据结构来描述的话，往往在空间上过大，计算机无法承受；即使在空间上勉强通过，运行的时间复杂度也极高，根本就不可能在比赛规定的运行时间（1～3秒）内计算出试题需要的结果，只能用并查集来描述。

#### 【用法】

并查集是由一个数组pre[]，和两个函数构成的，一个函数为find()函数，用于寻找前导点，第二个函数是join()用于合并路线。

#### 【关键代码】

```c++
int find(int x)  //返回根结点
{  
    if(x==fa[x]) return x;  
    else return fa[x]=find(fa[x]);  
}  
```

```c++
void unit(int x,int y)  
{  
    x=find(x);  
    y=find(y);  
    if(x==y) return ;   //两个集合有相同的的根结点
    else  
    {  
        if(deep[x]>deep[y]) fa[y]=x;  
        else  
        {  
            fa[x]=y;  
            if(deep[x]==deep[y]) deep[y]++;  
        }  
    }  
} 
```

```c++
void init()   //初始化
{  
    for(int i=1;i<=n;i++)  
    {  
        fa[i]=i;   //初始化每个点的根结点为自己
        deep[i]=1;   //初始化每个结点到根结点的距离
    }  
} 
```

