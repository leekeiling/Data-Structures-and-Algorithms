# String

## 串的逻辑结构

- 串的数据对象约束为某个字符集
- 微机上常用的字符集是标准的ASCII码，由7位二进制数表示一个字符，所以总共可以表示128个字符。
- 扩展ASCII码有8位二进制表示一个字符，可以表示256个字符。
- Unicode由16位二进制数表示一个字符，能够表示世界上所有字符。为了保持兼容性，Unicode字符前256个字符与扩展ASCII码完全相同。

## 字符串的相关函数

这个在www.cplusplus.com由详细的介绍。

## 字符串的存储方式

- **定长顺序存储表示**

  将串定义成字符数组，利用串名可以直接访问串值。用这种表示方法，串的存储空间在编译时确定，其大小不能改变。

  定长顺序存储结构定义为：

  ```c++
  #define MAX_STRLEN 256
  typedef struct{
    char str[MAX_STRLEN];
    int len;
  }StringTypr
  ```

上述定义可以看出，定长顺序存储首先申请了一个256长度的类型为char的数组，这个数组是用来存储字符串每一个字符的。因为数组是固定大小的，所以这个数组能够存储的最大字符串长度为256. 实际应用中我们常常用到字符串的长度，例如输出一个字符串，因此在结构体中保留有标志数组存储了字符串长度的len变量。

- **串的堆分配存储表示**

  程序员在存储空间中指定一个空间足够大的且地址连续的存储空间来存储字符串。类似与定产顺序存储表示，但其空间大小实际上根据字符串的大小动态分配的，可以更好利用存储空间。动态分配空间可以使用malloc()和free()函数。

  堆分配存储结构的类型定义。

  ```c++
  typedef struct
  {
    char *ch; /*若非空，按长度分配；否则为NULL */
    int length; /*串的长度*/
  }HString;
  ```

- **串的链式存储表示**

  串的链式存储结构采用一个单链表来存储串。结点的构成包括：

  ​	next域：指向下一个结点的指针。

  ​	data域：存放字符。data域可以存储一个字符，但由于一个结点还包括next域来存储指				针，字符串的长度往往比较大，因此需要比较大的额外的空间开销。若data域存储多个字符时，可以减少存储指针的数量，但在考虑字符串的插入或者删除操作时比较复杂。

  串的块链式存储类型定义包括两个结构体，一个定义结点；另一个定义整个字符串的信息，包括字符串的长度，字符串链式结构在空间中首地址。

  块结点的类型定义：

  ```c++
  #define BLOCK_SIZE 4
  typedef struct Blstrtype{
    char data[BLOCK_SIZE];
    struct Blstrtype *next;
  }BNODE;
  ```

  块链串的类型定义：

  ```c++
  typedef struct{
    BNODE head; /*头指针*/
    int strlen; /*当前长度*/
  }Blstring
  ```

  ​